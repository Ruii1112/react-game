# GitHub Pages デプロイ手順

このドキュメントでは、「白の部屋からの脱出」をGitHub Pagesにデプロイする手順を説明します。

## 自動デプロイの設定（初回のみ）

### 1. リポジトリ設定でGitHub Pagesを有効化

1. GitHubでリポジトリ（https://github.com/Ruii1112/react-game）を開く
2. **Settings** タブをクリック
3. 左メニューの **Pages** をクリック
4. **Source** セクションで **GitHub Actions** を選択

### 2. デプロイの実行

設定完了後、以下のタイミングで自動デプロイが実行されます：

- `main`ブランチへのプッシュ時
- GitHub上でワークフローを手動実行した時

## 手動デプロイの方法

### GitHub上から手動実行

1. リポジトリの **Actions** タブを開く
2. 左メニューから **Deploy to GitHub Pages** を選択
3. **Run workflow** ボタンをクリック
4. **Run workflow** を選択して実行

## デプロイ状況の確認

### 1. GitHub Actionsで確認

- **Actions** タブでワークフローの実行状況を確認
- 緑のチェックマーク ✅ が表示されれば成功

### 2. デプロイされたサイトを確認

デプロイが成功すると、以下のURLでアクセス可能になります：

```
https://ruii1112.github.io/react-game/
```

## トラブルシューティング

### デプロイが失敗する場合

1. **GitHub Actions のログを確認**
   - Actions タブで失敗したワークフローをクリック
   - エラーメッセージを確認

2. **よくある問題と解決方法**

   **問題**: ビルドエラー
   - ローカルで `npm run build` を実行してエラーがないか確認
   - TypeScriptのエラーを修正

   **問題**: 404エラー
   - `vite.config.ts` の `base` 設定が正しいか確認
   - リポジトリ名と一致しているか確認

   **問題**: 白い画面が表示される
   - ブラウザの開発者ツールでコンソールエラーを確認
   - パスの設定が正しいか確認

### ローカルでのビルドテスト

デプロイ前にローカルでビルドをテストする：

```bash
# ビルド
npm run build

# ビルドしたファイルをプレビュー
npm run preview
```

## 画像ファイルについて

パズル画像は `public/images/puzzles/` に配置されており、ビルド時に自動的にdistフォルダにコピーされます。

## 更新の流れ

1. ローカルで変更を行う
2. `git add .` で変更をステージング
3. `git commit -m "変更内容"` でコミット
4. `git push origin main` でプッシュ
5. GitHub Actionsが自動的にビルド・デプロイを実行
6. 数分後にサイトが更新される

## 注意事項

- デプロイには通常2-5分程度かかります
- キャッシュの影響で変更がすぐに反映されない場合は、ブラウザのキャッシュをクリアしてください
- GitHub Pagesは静的サイトホスティングのため、サーバーサイドの機能は使用できません